<div class="container-fluid">
  <h2>Application Form</h2>

  <form [formGroup]="ApplicationForm">
    <div class="form-group" formGroupName="FullName">
      <!-- <label>First Name</label>
      <input type="text" [class.is-invalid]="firstName?.invalid && firstName?.touched" formControlName="firstName" class="form-control">
      <small class="text-danger" [class.d-none]="firstName?.valid || firstName?.untouched">First Name is required</small>
      <div *ngIf="firstName?.invalid && firstName?.touched">
        <small class="text-danger" *ngIf="firstName?.errors?.['required']">First Name is required</small>
        <small class="text-danger" *ngIf="firstName?.errors?.['minlength']">first Name must be at least 3 characters</small>
        <small class="text-danger" *ngIf="firstName?.errors?.['forbiddenName']">'{{firstName?.errors?.['forbiddenName'].value}}' username not allowed</small>
      </div>
    </div> -->
    
    <!-- <input type="text" formControlName="formId" class="form-control"> -->

      <label>First Name</label>
      <input type="text" formControlName="FirstName" class="form-control">

      <label>Middle Name</label>
      <input type="text" formControlName="MiddleName" class="form-control">

      <label>Last Name</label>
      <input type="text" formControlName="LastName" class="form-control">

    </div>

    <div class="form-group">
      <label>Email Id</label>
      <input type="email" formControlName="EmaiID" class="form-control">
    </div>


    <div class="form-group" formGroupName="Address">
      <label>Building</label>
      <input type="textarea" formControlName="Building" class="form-control">

      <label>Area</label>
      <input type="textarea" formControlName="Area" class="form-control">

      <label>State</label>
      <select formControlName="State" class="form-control">  
        <option *ngFor="let state of states" value="{{state.StateID}}">{{state.StateName}}</option>  
      </select>  

      <label>City</label>
      <select formControlName="City" class="form-control">  
        <option *ngFor="let city of cities">{{city.Name}}</option>  
      </select>  
    </div>

    <div class="form-group">
      <input type="radio" formControlName="Gender" value="male" > Male
      <input type="radio" formControlName="Gender" value="female"> Female
    </div>

    <div class="form-group">
      <label>Skills</label>
      <button type="button" class="btn btn-secondary btn-sm m-2" (click)="addMoreSkills()">Add More Skills</button>
      <div formArrayName="Skills" *ngFor="let skill of skills.controls; let i=index">
        <input type="text" class="form-control my-1" formControlName="{{i}}">
      </div>
    </div>

    <div class="form-group" formGroupName="S10th">
      <h2>10th Standard</h2>
      <label>Marks</label>
      <input type="number" formControlName="Marks" class="form-control">

      <label>Grade</label>
      <input type="text" formControlName="Grade" class="form-control">

      <label>Year Of Passing</label>
      <input type="number" formControlName="YearOfPassing" class="form-control"> 
    </div>

    <div class="form-group" formGroupName="S12th">
      <h2>12th Standard</h2>
      <label>Marks</label>
      <input type="number" formControlName="Marks" class="form-control">

      <label>Grade</label>
      <input type="text" formControlName="Grade" class="form-control">

      <label>Year Of Passing</label>
      <input type="number" formControlName="YearOfPassing" class="form-control"> 
    </div>

    <div class="form-group" formGroupName="Degree">
      <h2>Degree</h2>
      <label>Marks</label>
      <input type="number" formControlName="Marks" class="form-control">

      <label>Grade</label>
      <input type="text" formControlName="Grade" class="form-control">

      <label>Year Of Passing</label>
      <input type="number" formControlName="YearOfPassing" class="form-control"> 
    </div>

    <ng-template [ngIf]="isNewForm" [ngIfElse]="oldForm">
      <button class="btn btn-primary" type="button" (click)="onSubmit(ApplicationForm.getRawValue())">Register</button>
    </ng-template>
    <ng-template #oldForm>
      <button class="btn btn-primary" type="button" (click)="saveChanges(ApplicationForm.getRawValue())">Register</button>
    </ng-template>
    

    <button #loggedOut type="button" class="btn btn-primary" (click)="loadAPIData(0)">Set Data</button>
    {{ApplicationForm.status | json}}
    {{ApplicationForm.value | json}}
  </form>
</div>